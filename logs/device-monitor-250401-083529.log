ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:4688
load:0x40078000,len:15504
load:0x40080400,len:4
load:0x40080404,len:3196
entry 0x400805a4
[    20][D][esp32-hal-cpu.c:263] setCpuFrequencyMhz(): PLL: 480 / 2 = 240 Mhz, APB: 80000000 Hz
=========== Before Setup Start ===========
Chip Info:
------------------------------------------
  Model             : ESP32
  Package           : D0WD-Q5
  Revision          : 3.01
  Cores             : 2
  CPU Frequency     : 240 MHz
  XTAL Frequency    : 40 MHz
  Features Bitfield : 0x00000032
  Embedded Flash    : No
  Embedded PSRAM    : No
  2.4GHz WiFi       : Yes
  Classic BT        : Yes
  BT Low Energy     : Yes
  IEEE 802.15.4     : No
------------------------------------------
INTERNAL Memory Info:
------------------------------------------
  Total Size        :   379768 B ( 370.9 KB)
  Free Bytes        :   339660 B ( 331.7 KB)
  Allocated Bytes   :    32808 B (  32.0 KB)
  Minimum Free Bytes:   334404 B ( 326.6 KB)
  Largest Free Block:   110580 B ( 108.0 KB)
------------------------------------------
Flash Info:
------------------------------------------
  Chip Size         : 16777216 B (16 MB)
  Block Size        :    65536 B (  64.0 KB)
  Sector Size       :     4096 B (   4.0 KB)
  Page Size         :      256 B (   0.2 KB)
  Bus Speed         : 40 MHz
  Bus Mode          : DIO
------------------------------------------
Partitions Info:
------------------------------------------
                nvs : addr: 0x00009000, size:    20.0 KB, type: DATA, subtype: NVS
            otadata : addr: 0x0000E000, size:     8.0 KB, type: DATA, subtype: OTA
               app0 : addr: 0x00010000, size:  6400.0 KB, type:  APP, subtype: OTA_0
               app1 : addr: 0x00650000, size:  6400.0 KB, type:  APP, subtype: OTA_1
             spiffs : addr: 0x00C90000, size:  3456.0 KB, type: DATA, subtype: SPIFFS
           coredump : addr: 0x00FF0000, size:    64.0 KB, type: DATA, subtype: COREDUMP
------------------------------------------
Software Info:
------------------------------------------
  Compile Date/Time : Apr  1 2025 07:50:01
  ESP-IDF Version   : v5.3.2-584-g489d7a2b3a-dirty
  Arduino Version   : 3.1.3
------------------------------------------
Board Info:
------------------------------------------
  Arduino Board     : Espressif ESP32 Dev Module
  Arduino Variant   : esp32
  Core Debug Level  : 4
  Arduino Runs Core : 1
  Arduino Events on : 1
  CDC On Boot       : 0
============ Before Setup End ============
[   531][I][i2c_driver.cpp:20] i2c_initialize(): Init I2C bus with code: 0
[   538][I][i2c_driver.cpp:22] i2c_initialize(): Add device to I2C bus with code 0
Starting 261
E (528) i2c.master: I2C hardware NACK detected
E (528) i2c.master: I2C transaction unexpected nack detected
E (528) i2c.master: s_i2c_synchronous_transaction(892): I2C transaction failed
E (534) i2c.master: i2c_master_transmit(1133): I2C transaction failed
ESP_ERROR_CHECK failed: esp_err_t 0x103 (ESP_ERR_INVALID_STATE) at 0x400d1a12
  #0  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)

file: "src/imu_new_version/i2c_driver.cpp" line 28
func: void i2c_write_register(uint8_t, uint8_t, i2c_master_dev_t**)
expression: i2c_master_transmit(*ret_handle, buff, sizeof(buff), timeout)

abort() was called at PC 0x400884e3 on core 1


Backtrace: 0x40083169:0x3ffb20e0 0x400884ed:0x3ffb2100 0x4008df75:0x3ffb2120 0x400884e3:0x3ffb21a0 0x400d1a12:0x3ffb21d0 0x400d189d:0x3ffb2200 0x400d18b9:0x3ffb2220 0x400d1abb:0x3ffb2240 0x400d3b6f:0x3ffb2270 0x40088ebd:0x3ffb2290
  #0  0x40083169 in panic_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/panic.c:463
  #1  0x400884ed in esp_system_abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/port/esp_system_chip.c:92
  #2  0x4008df75 in abort at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/newlib/abort.c:38
  #3  0x400884e3 in _esp_error_check_failed at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/esp_system/esp_err.c:49
  #4  0x400d1a12 in i2c_write_register(unsigned char, unsigned char, i2c_master_dev_t**) at src/imu_new_version/i2c_driver.cpp:28 (discriminator 2)
  #5  0x400d189d in setBank(unsigned char) at src/imu_new_version/ICM20948.cpp:51
  #6  0x400d18b9 in restart_icm20948() at src/imu_new_version/ICM20948.cpp:18
  #7  0x400d1abb in setup() at src/main.cpp:11
  #8  0x400d3b6f in loopTask(void*) at C:/Users/enzo/.platformio/packages/framework-arduinoespressif32@src-702d0f93023d86e22d8ef62aa333f0b7/cores/esp32/main.cpp:59
  #9  0x40088ebd in vPortTaskWrapper at /home/runner/work/esp32-arduino-lib-builder/esp32-arduino-lib-builder/esp-idf/components/freertos/FreeRTOS-Kernel/portable/xtensa/port.c:139





ELF file SHA256: e6d08d503

